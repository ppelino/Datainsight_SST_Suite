<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <title>DataInsight SST Suite ‚Äî PGR / NR-01</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="assets/branding.css">
</head>
<body>

<nav class="nav">
  <div class="wrap">
    <div class="logo">
      <img src="assets/datainsight.jpg" alt="Logo DataInsight SST">
      <span>DataInsight SST Suite</span>
    </div>

    <div style="margin-left:auto; display:flex; gap:8px; align-items:center;">
      <a class="btn secondary" href="dashboard.html">‚Üê Voltar ao Dashboard</a>
    </div>
  </div>
</nav>

<main class="page">
  <div class="wrap">

    <!-- T√çTULO (COLUNA ESQUERDA, LINHA 1) -->
    <header class="pgr-header">
      <h1>PGR / NR-01 (v2)</h1>
      <p>Cadastre empresas, setores, perigos, riscos e a√ß√µes de controle em uma √∫nica tela.</p>
    </header>

    <!-- A√á√ïES R√ÅPIDAS (COLUNA ESQUERDA, LINHA 2) -->
    <section class="card pgr-actions">
      <div class="card-body" style="display:flex; flex-direction:column; gap:8px;">
        <button id="btn-clear-all" class="btn secondary">üßπ Limpar tela</button>
        <button id="btn-print" class="btn secondary">üñ®Ô∏è Imprimir relat√≥rio</button>
        <button id="btn-export-pdf" class="btn secondary">‚¨áÔ∏è Exportar PDF</button>
      </div>
    </section>

    <!-- GRID PRINCIPAL (COLUNA DIREITA: EMPRESAS/SETORES | PERIGOS/RISCOS/A√á√ïES) -->
    <div class="pgr-grid">

      <!-- COLUNA DIREITA ‚Äì ESQUERDA INTERNA (EMPRESAS + SETORES) -->
      <div class="stack-vertical">

        <!-- Empresas -->
        <section class="card">
          <div class="card-header">
            <h2>Empresas</h2>
            <p>Selecione a empresa para gerenciar seu PGR.</p>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <label for="company-name">Nome da empresa</label>
                <input id="company-name" type="text" placeholder="Raz√£o social">
              </div>

              <div class="form-group">
                <label for="company-cnpj">CNPJ</label>
                <input id="company-cnpj" type="text" placeholder="Somente n√∫meros">
              </div>

              <div class="form-group">
                <label for="company-address">Endere√ßo</label>
                <input id="company-address" type="text" placeholder="Rua, n¬∫, bairro, cidade">
              </div>

              <div class="form-group">
                <label for="company-activity">Atividade principal</label>
                <input id="company-activity" type="text" placeholder="Ex.: Com√©rcio varejista">
              </div>

              <div class="form-group">
                <label for="company-risk">Grau de risco (1 a 4)</label>
                <input id="company-risk" type="number" min="1" max="4" step="1">
              </div>
            </div>

            <div style="margin-top:12px; text-align:right;">
              <button id="btn-save-company" class="btn primary">Salvar empresa</button>
            </div>

            <h3 style="margin-top:16px;">Empresas cadastradas</h3>
            <div class="table-wrapper">
              <table class="data-table" id="companies-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Empresa</th>
                    <th>CNPJ</th>
                    <th>Grau</th>
                    <th style="width:110px; text-align:center;">A√ß√µes</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- via JS -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- Setores -->
        <section class="card">
          <div class="card-header">
            <h2>Setores</h2>
            <p>Vinculados √† empresa selecionada.</p>
            <small id="current-company-label">Nenhuma empresa selecionada.</small>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <label for="sector-name">Nome do setor</label>
                <input id="sector-name" type="text" placeholder="Ex.: Produ√ß√£o, Escrit√≥rio...">
              </div>

              <div class="form-group">
                <label for="sector-description">Descri√ß√£o</label>
                <textarea id="sector-description" rows="2" placeholder="Descri√ß√£o resumida do setor"></textarea>
              </div>
            </div>

            <div style="margin-top:12px; text-align:right;">
              <button id="btn-save-sector" class="btn primary">Salvar setor</button>
            </div>

            <h3 style="margin-top:16px;">Setores cadastrados</h3>
            <div class="table-wrapper">
              <table class="data-table" id="sectors-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Setor</th>
                    <th>Descri√ß√£o</th>
                    <th style="width:110px; text-align:center;">A√ß√µes</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- via JS -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

      </div>

      <!-- COLUNA DIREITA ‚Äì DIREITA INTERNA (PERIGOS + RISCOS + A√á√ïES) -->
      <div class="stack-vertical">

        <!-- Perigos -->
        <section class="card">
          <div class="card-header">
            <h2>Perigos</h2>
            <p>Vinculados ao setor selecionado.</p>
            <small id="current-sector-label">Nenhum setor selecionado.</small>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <label for="hazard-name">Nome do perigo</label>
                <input id="hazard-name" type="text" placeholder="Ex.: Ru√≠do, Poeira, Postura est√°tica...">
              </div>

              <div class="form-group">
                <label for="hazard-agent">Agente</label>
                <input id="hazard-agent" type="text" placeholder="Ex.: Equipamento X, Produto Y">
              </div>

              <div class="form-group">
                <label for="hazard-source">Fonte</label>
                <input id="hazard-source" type="text" placeholder="Fonte geradora do perigo">
              </div>

              <div class="form-group">
                <label for="hazard-description">Descri√ß√£o</label>
                <textarea id="hazard-description" rows="2"></textarea>
              </div>
            </div>

            <div style="margin-top:12px; text-align:right;">
              <button id="btn-save-hazard" class="btn primary">Salvar perigo</button>
            </div>

            <h3 style="margin-top:16px;">Perigos cadastrados</h3>
            <div class="table-wrapper">
              <table class="data-table" id="hazards-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Perigo</th>
                    <th>Agente</th>
                    <th>Fonte</th>
                    <th style="width:110px; text-align:center;">A√ß√µes</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- via JS -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- Riscos -->
        <section class="card">
          <div class="card-header">
            <h2>Riscos</h2>
            <p>Avalia√ß√£o qualitativa do perigo selecionado.</p>
            <small id="current-hazard-label">Nenhum perigo selecionado.</small>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <label for="risk-probability">Probabilidade (1 a 5)</label>
                <input id="risk-probability" type="number" min="1" max="5">
              </div>

              <div class="form-group">
                <label for="risk-severity">Severidade (1 a 5)</label>
                <input id="risk-severity" type="number" min="1" max="5">
              </div>

              <div class="form-group">
                <label for="risk-measures">Medidas existentes</label>
                <textarea id="risk-measures" rows="2"></textarea>
              </div>
            </div>

            <div style="margin-top:12px; text-align:right;">
              <button id="btn-save-risk" class="btn primary">Salvar risco</button>
            </div>

            <h3 style="margin-top:16px;">Riscos cadastrados</h3>
            <div class="table-wrapper">
              <table class="data-table" id="risks-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>N√≠vel</th>
                    <th>P</th>
                    <th>S</th>
                    <th>Medidas existentes</th>
                    <th style="width:110px; text-align:center;">A√ß√µes</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- via JS -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- A√ß√µes de Controle -->
        <section class="card">
          <div class="card-header">
            <h2>A√ß√µes de Controle</h2>
            <p>Plano de a√ß√£o para o risco selecionado.</p>
            <small id="current-risk-label">Nenhum risco selecionado.</small>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <label for="action-recommendation">Recomenda√ß√£o</label>
                <textarea id="action-recommendation" rows="2"></textarea>
              </div>

              <div class="form-group">
                <label for="action-type">Tipo (EPI, EPC, administrativa...)</label>
                <input id="action-type" type="text">
              </div>

              <div class="form-group">
                <label for="action-deadline">Prazo</label>
                <input id="action-deadline" type="date">
              </div>

              <div class="form-group">
                <label for="action-responsible">Respons√°vel</label>
                <input id="action-responsible" type="text">
              </div>

              <div class="form-group">
                <label for="action-status">Status</label>
                <select id="action-status">
                  <option value="Pendente">Pendente</option>
                  <option value="Em andamento">Em andamento</option>
                  <option value="Conclu√≠do">Conclu√≠do</option>
                </select>
              </div>
            </div>

            <div style="margin-top:12px; text-align:right;">
              <button id="btn-save-action" class="btn primary">Salvar a√ß√£o</button>
            </div>

            <h3 style="margin-top:16px;">A√ß√µes cadastradas</h3>
            <div class="table-wrapper">
              <table class="data-table" id="actions-table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Recomenda√ß√£o</th>
                    <th>Tipo</th>
                    <th>Prazo</th>
                    <th>Status</th>
                    <th style="width:110px; text-align:center;">A√ß√µes</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- via JS -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

      </div>
    </div>

  </div>
</main>

<script src="pgr.js"></script>
</body>
</html>
